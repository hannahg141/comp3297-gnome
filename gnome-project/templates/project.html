<!DOCTYPE html>
<html>
    <head>
        <title>Project Details</title>

        <h1>Project Details: {{ project }}</h1>

        <style>
                body {
                  /*background-color: lightblue;*/
                  font-family: "Trebuchet MS";
                  font-size: 14px;
                }
                
                p {
                  font-size: 20px;
                }

                button {
                    background-color: #555555;
                    border: none;
                    color: white;
                    padding: 6px;
                    border-radius: 2px;
                    text-align: center;
                    text-decoration: none;
                    display: inline-block;
                }

                table {
                    font-family: arial, sans-serif;
                    border-collapse: collapse;
                    width: 70%;
                }
                
                td, th {
                    border: 1px solid #dddddd;
                    text-align: left;
                    padding: 8px;
                }
                
                tr:nth-child(even) {
                    background-color: #dddddd;
                }
        </style>

    </head>
    <body>

    <!--Completed sprints-->
        <p> Completed Sprint Backlogs
            <button type="button"
                    id="showHideButton"
                    onclick="showHide()"
                    class="btn btn-default">
                Show
            </button>
        </p>

        <script>
        function showHide() {
            if (document.getElementById("showHideButton").innerHTML == "Show") {
                document.getElementById("showHideButton").innerHTML = "Hide";
                document.getElementById("completedSprints").style.display = "block";
            }
            else {
                document.getElementById("showHideButton").innerHTML = "Show";
                document.getElementById("completedSprints").style.display = "none";
            }
        }
        </script>

        <div id="completedSprints" style="display: none;">
        <!-- Completed sprints code-->
            <ul> {% for sprint in sprint_list_done %}
                <li>
                    Sprint {{ sprint.name }} Backlog
                </li>
                 <table>
                    <tr>
                        <th>Sprint Backlog Item Name</th>
                        <th>Description</th>
                        <th>Tasks Not Yet Started</th>
                        <th>Tasks In Progress</th>
                        <th>Tasks Completed</th>
                    </tr>
                    {% for pbi in sprint.productbacklog_set.all %}
                    <tr>
                        <td> {{ pbi.name }} </td>
                        <td> {{ pbi.description }} </td>
                    </tr>
                    {% endfor %}
                </table>

                {% endfor %}
            </ul>

        </div>

        <!-- Current Sprint-->
        <p>Current Sprint Backlog {{ sprint_current.name }}</p>
        <table>
            <tr>
                <th>Sprint Backlog Item Name</th>
                <th>Description</th>
                <th>Tasks Not Yet Started</th>
                <th>Tasks In Progress</th>
                <th>Tasks Completed</th>
            </tr>
            {% for pbi in pbi_sprint_current_list %}
            <tr>
                <td> {{ pbi.name }} </td>
                <td> {{ pbi.description }} </td>

                 <td>
                    {% for not_yet_started in pbi.tasks_not_yet_started %}
                        <button type="button"
                                class="btn btn-default">
                            {{ not_yet_started.name }}
                        </button>
                    {% endfor %}
                </td>

                 <td>
                    {% for in_progress in pbi.tasks_in_progress %}
                        <button type="button"
                                class="btn btn-default">
                            {{ in_progress.name }}
                        </button>
                    {% endfor %}
                </td>

                <td>
                    {% for complete in pbi.tasks_complete %}
                        <button type="button"
                                class="btn btn-default">
                            {{ complete.name }}
                        </button>
                    {% endfor %}
                </td>
            </tr>
            {% endfor %}
        </table>

    <!-- Product Backlog-->
      <p> Product Backlog
           <button type="button"
                    class="btn btn-default">
                Add Product Backlog Item
            </button>
      </p>

      <table>
            <tr>
                <th>Product Backlog Item Name</th>
                <th>Description</th>
                <th>Story Points</th>
                <th>Status</th>
            </tr>
            {% for pbi in pbis_product_backlog_list %}
            <tr>
                <td> {{ pbi.name }} </td>
                <td> {{ pbi.description }} </td>
                <td> {{ pbi.pointEstimate }} </td>
                <td> {{ pbi.status }} </td>
            </tr>
            {% endfor %}
    </table>
    </body>
</html>
